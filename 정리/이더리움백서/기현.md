## 추가적인 어플리케이션(Further Application)

3. 탈중앙화된 데이터피드

       '쉘링코인(SchellingCoin)' 이라는 프로토콜 사용 -> 변량(Difference)를 다루는 금융계약을 탈중앙화된 방식으로 운용한다.

       쉘링코인(SchellingCoin)의 원리?
       => 하나의 주어진 기준치(ex: ETH/USD: 달러로 표시한 이더리움 가격)에 대해 N(임의의 수)명의 참여자가 각각 자신들이 맞다고 생각하는
          값을 시스템에 제공하며, 그 값의 크기에 따라 순위를 매기고 25%~75% 사이에 있는 값을 제시한 사람은 토큰 1개를 보상으로 받게 된다.
          이로 인해 다수의 참여자가 보상 받은 사람의 값 (정답에 근접한 값)을 제시하고자 할 것이고, 다수가 동의할 수 있는 유일한 값은
          기본값(참값)이 될 것이다.

   ![image](https://github.com/5juman/we/assets/138484641/843cbee4-db86-43d6-a50b-5d46d732bb8f)


4. 스마트 멀티시그 공탁 계좌
   
       비트코인: 5개의 키 중 3개를 갖고 서명해야 출금을 허용하는 방식의 트랜잭션 지칭

       이더리움: 5개의 키 중 4개를 갖고 있다면, 기금의 전체 사용 가능
                5개의 키 중 3개를 갖고 있다면, 하루에 기금의 10% 사용 가능
                5개의 키 중 2개를 갖고 있다면, 하루에 기금의 0.5% 사용 가능
   
   * 추가적으로 이더리움의 멀티시그는 동시에 집행해야 할 필요가 없다. 서로 다른 시기에 전자 서명을 등록할 수 있고, 최종의 전자서명이
   이루어졌을 시 자동적으로 트랜잭션이 네트워크에 보내진다.
  

5. 클라우드 컴퓨팅
   
       EVM(Ethereum Virtual Machine) 기술을 사용하여 입증 가능한 컴퓨팅 환경을 만들 수 있다.

       입증 가능한 컴퓨팅 환경이란?
       => 한 유저가 다른 유저에게 연산을 수행하게 한 후 랜덤한 시점에 연산을 수행한 주체에게 미리 설정된 연산 체크포인트가 올바른지에
          대한 증명을 요구할 수 있다. -> 연산의 정확성을 무작위 추출검사를 함으로써 시스템의 신뢰성을 더욱 강화시킨다

![image](https://github.com/5juman/we/assets/138484641/e8caf046-b105-427c-a1b0-e6e216ed9d42)

7. P2P 도박

       가장 단순한 도박 프로토콜은 다음 블록의 해시값의 차이에 대한 컨트렉트이며, 0에 가까운 수수료와 그 누구도 사기를 칠 수 없는 보다
       발전된 프로토콜이 그 위에 얹혀질 수 있다.

![image](https://github.com/5juman/we/assets/138484641/79fe5148-076b-4130-b747-ad8694811caf)


7. 예측 시장

        쉘링코인(SchellingCoin)과 함께 예측시장은 분권화된 조직들에 대한 거버넌스 프로토콜로서(DAO?) '퓨타키'의 첫 번째 주류
        어플리케이션이 될 수 있다.
 
<img src="https://github.com/5juman/we/assets/138484641/fda847b6-ad5e-4460-89c1-4d3824379690" width="350" height="300">

8. 블록체인상의 탈중앙화된 장터

       신원조회 / 평판 시스템을 기반으로 원활하게 돌아가는 P2P 장터를 구축할 수 있다.

![image](https://github.com/5juman/we/assets/138484641/3975e88e-2393-4614-b0d7-d75b2da44bc2)


## 그 밖의 이슈(Miscellanea And Concerns)

* 수정된 GHOST 도입(Modified GHOST Implementation)
  
       GHOST 프로토콜 이전의 문제
       => 빠른 확인시간(confirmation times)을 가지고 있는 블록체인들이 높은 스테일(stale:미채택 => 먼저 채굴한 블록보다 늦게 채굴된
          블록)비율로 인해 보안성 저하라는 문제를 겪음 <- 블록들이 네트워크를 통해 전파되는데 일정한 시간이 걸리기 때문
  
       => 중앙집중화(Centralization) 이슈: 블록 주기가 스테일 비율이 높은 것에 필요한 만큼 충분히 짧다면, 단순히 크기가 크다는 사실
          자체만으로 훨씬 더 높은 효율성을 가지게 된다. 따라서 블록주기가 짧은 블록체인에서는, '높은 해시파워' 점유율을 가진 단일한
          풀(채굴공간)이 채굴과정에 대한 사실상의 통제권을 가지게 될 가능성이 매우 높아진다.

       GHOST 프로토콜
       => 어느 체인이 "가장 긴(longest)"것인지 계산할 때 스테일블록도 포함함으로써 네트워크 보안 손실이라는 문제 해결한다.
       => 스테일 블록(엉클블록)들에 대해서도 기본 보상의 87.5%(백서 기준:2015년)의 보상을 제공하게 되면서 중앙화 문제를 해결한다.

<img src="https://github.com/5juman/we/assets/138484641/b4d65e00-423c-4e5f-83e2-823d7fe5c3fd" width="350" height="400">

       GHOST 프로토콜 구현
       => 하나의 블록은 반드시 하나의 모블록을 지정해야 하며, 0 또는 그 이상의 엉클(삼촌)을 지정해야 한다.
       
       => 블록 B에 포함된 엉클(삼촌)은 다음과 같은 속성들을 가지고 있어야 한다.
          1. B의 k번째 조상의 직접적인 자손이어야 한다.(2 <= k <= 7)
          2. B의 조상이어서는 안 된다.
          3. 유효한 블록 헤더여야 하지만, 이전에 확인되었을 필요도, 또는 심지어 유효한 블록일 필요도 없다.
          4. 이전 블록들에 포함된 모든 엉클(삼촌)들, 그리고 같은 블록에 포함된 모든 다른 삼촌들과는 달라야 한다(중복포함방지)
          
       => 블록 B에 있는 각 삼촌 U에 대해, B의 채굴자는 코인베이스 보상(채굴 보상)에 더해 추가로 3.125%를 더 받고, U의 채굴자는 
          기본 코인베이스 보상(채굴 보상)의 93.75%(현재)를 받는다.
          
       => 최대 7세대만 엉클(삼촌)을 포함할 수 있는 제한된 GHOST 프로토콜을 사용하는 이유
          1. 세대가 무한대로 커지면 하나의 블록에 대해 어떤 엉클(삼촌)이 유효한지에 대한 계산을 매우 복잡하게 만들기 때문
          2. 채굴자들에게 동기부여를 하게 하기 위해서

## 수수료(Fees)

* 수수료가 필요한 이유

      => 블록체인에 올려지는 각 트랜잭션은 그것을 다운로드하고 검증하기 위한 비용을 네트워크에 부과하기 때문에, 남용을 방지하기 위해서
         트랜잭션 수수료가 필요하게 된다.

* 비트코인에서의 수수료 징수방법
  
      => 채굴자(게이트키퍼 역할을 해서 유동적으로 최저액을 설정하도록 함)와 트랜잭션 송신자들간의 수요와 공급이 그 가격을 
         결정하기 때문에 시장기반으로 이루어진다.
  
      => 하지만 위의 트랜잭션 처리는 시장에서 일어나는 것이 아니기 때문에 실제적으로는 채굴자가 포함하는 모든 트랜잭션들은 
         네트워크의 모든 노드들에 의해 처리되어야 한다. 이로 인해서 공유지의 비극(트랜잭션 처리 비용을 채굴자나 트랜잭션 처리자가
         아니라 네트워크의 모든 사용자가 지불하게 되서 네트워크 자원의 효율적인 사용을 저해하는 것) 문제가 일어나기 쉬워진다.

* 공유지의 비극 문제 해결을 위한 전제

      1. 하나의 트랜잭션이 k개의 작업들(operations)을 초래하는데, 이 트랜잭션을 포함하는 채굴자에게 kR만큼의 보상을 제공하게 된다. 
         R은 송신자에 의해서 설정되며, k와 R은 채굴자에게 사전에 노출된다.
      2. 하나의 작업은 어떤 노드에 대해서든 C만큼의 처리비용을 가진다(모든 노드들은 똑같은 효율성을 가지고 있다)
      3. N개의 채굴노드들이 있고, 각각은 정확히 똑같은 처리파워(1/N)를 가지고 있다.
      4. 채굴을 하지 않는 완전노드(full nodes)는 없다.

      k: 트랜잭션이 초래한 작업들 
      R: 송신자에 의해 설정된 값(송신자에 의해 제공된 단위작업당 수수료) 
      C: 노드의 처리비용 
      N: 채굴노드의 수
      NC: 하나의 작업을 처리하기 위해 전체 네트워크에 부과된 비용
       
      기대 보상은 kR/N, 채굴자에게 처리비용은 kC, 그러므로 채굴자들은 kR/N > Kc 혹은 R > NC일 때 트랜잭션을 포함하려 할 것이다.
      채굴자는 어떠한 트랜잭션 비용보다 기대보상이 클 경우 트랜잭션을 처리하려고 하기 때문에 채굴자들은 비용보다 전체 공리적인 
      혜택이 큰 트랜잭션들만 포함하려 하는 인센티브를 갖게 된다.

* 전제와 현실과의 차이
  
      1. 채굴자는 채굴블록에 대한 추가적인 검증시간은 블록전파를 지연시키고, 블록이 스테일되는 확률을 증가시키기 때문에 다른 검증 
         노드들보다 트랜잭션을 처리하는데 더 많은 비용을 지불하게 된다.
      2. 비채굴 완전노드(full node)들이 존재한다.
      3. 채굴 파워의 분포는 실제로 심각하게 불평등하게 될 수 있다.
      4. 네트워크의 피해를 주는 이해관계를 가진 자들이 다른 검증노드가 지불하는 비용보다 훨씬 적은 비용이 들게 될 그린 컨트랙트들을 
         교묘하게 만들 수 있다.

      위의 문제들을 해결하기 위해서 '플로팅 상한값(floating cap)'을 도입하게 된다.
      '플로팅 상한값': 어떤 블록이던지 BLK_LIMIT_FACTOR * 장기 지수 이동평균 (the long_term exponential moving average)보다
      더 많은 오퍼레이션들을 가질 수 없다는 것

![image](https://github.com/5juman/we/assets/138484641/77d06583-f2ab-42d4-8495-24579ad10653)

BLK_LIMIT_FACTOR: 65536 EMA_FACTOR: 1.5

* 지연 불이익(delay disincentive)
  
      이더리움에서는 높은 가스(GAS)사용 블록은 전파되는데 더 오래 걸리는데, 이러한 지연 불이익(delay disincentive)은 
      이더리움의 경우에는 GHOST프로토콜 덕분에 중요도가 낮아진다.

      * GHOST 프로토콜의 2가지 특징
      1. 블록 선택 기준이 가장 긴 체인(longest chain)이 아니라 가장 무거운(많은 작업이 투입된) 블록이다.
      2. 블록 구성요소에 Uncle 블록(메인 체인에 포함되지 못한 블록들도 보상을 받게 해줌)을 포함시킨다.

## 연산과 튜링완전성(Computation And Turing-Completeness)

       이더리움 가상 머신(EVM: Ethereum Virtual Machine)은 '튜링-완전(계산적인 문제를 그 프로그래밍 언어나 추상 기계로 풀 수 있다는 의미)'하다.
       즉, EVM은 무한 순환을 포함한 상상 가능한 모든 계산 수행을 코딩할 수 있다.
       
       1. JUMP 명령어로 코드의 이전 장소로 되돌아가고 조건에 따라 건너뛰게 하는 것이다.
       2. 한 계약이 재귀 반복을 통해 순환을 일으킬 가능성이 있는 다른 계약을 호출하는 것이다.
       => 악의적인 사용자가 계산을 무한 순환을 빠뜨리는 방법으로 채굴자와 풀노드를 마비시킬 수 있는 문제를 야기할 수 있다.
       -> 한 거래에 최대로 계산할 수 있는 단계 수를 설정함으로써 우리는 해답을 얻을 수 있다. 만약 계산 수가 그 최대수보다 많으면 계산은 원점으로 
          되돌아가지만 수수료는 그대로 지불된다.
       
       

       

          
  

         
