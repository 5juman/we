# 이더리움 6~10장 정리
<img src="https://steemitimages.com/DQmbD2bNacPpYTLzJuhZipTjA4L4mwvLqRkFo2ndPWgiM6D/43_1.png" width="350" height="350" alt="이미지 설명">

--------------------------------------------

## 트랜지션 묶음과 상태변환

- **트랜잭션 묶음:** 여러 거래를 한 블록에 모아 네트워크의 상태를 변화시킵니다. 상태는 매번 계산하여 확인합니다.
- **상태변환:** 블록의 각 트랜잭션은 네트워크의 상태를 변화시키며, 이는 원시상태(genesis state)부터 시작하여 모든 트랜잭션을 순차적으로 적용하여 계산됩니다.
- **트랜잭션 순서:** 블록 내 트랜잭션 순서는 중요합니다. 예를 들어, 트랜잭션 A와 B가 있을 때, B가 A의 출력을 소비한다면, A가 B보다 먼저 있어야 블록이 유효합니다.

## 작업증명 (Proof of Work)

- **블록 유효성 검증:** "작업증명" 조건을 충족해야 합니다. 각 블록의 해시값이 목표값보다 작아야 합니다.
- **목표값 조정:** 목표값은 동적으로 조정됩니다.
- **채굴 시도:** 유효한 블록을 찾기 위해 평균적으로 2^64번의 시도가 필요합니다.
- **채굴 보상:** 채굴자들은 블록을 성공적으로 생성하면 25 BTC와 트랜잭션 수수료를 받습니다.

## 악의적인 공격 시나리오

- **이중지불 공격:** 공격자는 두 번의 거래를 시도하여 시스템을 속이려 합니다. 이를 위해 블록체인을 분기(fork)하여 새로운 체인을 만듭니다.
- **네트워크 통제:** 공격자가 네트워크의 51% 이상의 계산능력을 가져야 성공할 수 있습니다.

## 쉽게 설명

- **트랜잭션 묶음:** 여러 거래를 한 블록에 모아 네트워크의 상태를 변화시킵니다.
- **작업증명:** 블록을 유효하게 만들기 위해 해시값이 목표값보다 작아야 합니다. 이는 많은 계산이 필요합니다.
- **채굴 보상:** 채굴자는 블록을 성공적으로 생성하면 25 비트코인과 거래 수수료를 받습니다.
- **공격 시나리오:** 공격자는 두 번의 거래를 시도하여 거래를 무효화하려 하지만, 성공하려면 네트워크의 51% 이상의 계산능력이 필요합니다.

## 어려운 용어 설명

- **트랜잭션(Transaction):** 비트코인을 주고받는 개별 거래.
- **상태변환(State Transition):** 네트워크의 상태가 거래에 의해 변경되는 과정.
- **작업증명(Proof of Work):** 블록을 유효하게 만들기 위해 수행해야 하는 계산 작업.
- **해시(Hash):** 데이터를 고정된 크기의 문자열로 변환하는 함수. 블록체인에서는 SHA256 해시가 사용됩니다.
- **논스(Nonce):** 특정 조건을 만족하는 해시값을 찾기 위해 변경되는 숫자.
- **UTXO(Unspent Transaction Output):** 사용되지 않은 트랜잭션 출력.
- **이중지불(Double Spending):** 동일한 비트코인을 두 번 사용하는 시도.
- **분기점(Fork):** 블록체인 네트워크에서 두 개의 다른 체인이 존재하게 되는 상황.
- **51% 공격:** 네트워크의 51% 이상의 계산능력을 가진 공격자가 블록체인을 조작하는 시도.

# 머클트리(Merkle Tree) 구조

<img src="https://steemitimages.com/p/3jpR3paJ37V8qqLg4KfidhXpcvtcEk72vUJRExbJeq6n9zBzQxnxKe4ZEfmJkkrk81rqQVH8aQ1zTfxCdGVsLcQyURPiFxpnq7shyAxNxGpcndEJGsE6DKT3W22hJsbAjxJp6?format=match&mode=fit&width=640" alt="이미지 설명">

## 머클트리의 목적

- **데이터 검증:** 머클트리는 데이터의 일부만으로도 전체 데이터의 유효성을 검증할 수 있게 합니다.
- **보안:** 하위 노드의 해시값이 상위 노드에 영향을 주기 때문에 트랜잭션 정보의 위변조를 막을 수 있습니다.
- **확장성:** 머클트리 덕분에 블록헤더만 다운로드 받고 트랜잭션 정보는 별도로 받아도 데이터의 정확성을 보장할 수 있습니다.

## 블록 헤더

- **구성 요소:** 타임스탬프, 논스, 이전 블록 해시, 그리고 머클트리의 루트 해시가 포함됩니다.
- **블록의 해시:** 블록의 "해시"는 사실 이 블록 헤더의 해시입니다.

## 쉽게 설명

- **머클트리(Merkle Tree):** 트랜잭션을 효율적으로 검증하기 위한 트리 구조.
  - **잎 노드:** 트랜잭션 데이터.
  - **중간 노드:** 자식 노드들의 해시로 구성.
  - **루트 노드:** 최상위 노드로, 블록 헤더에 포함된 루트 해시.
- **블록 헤더:** 블록의 요약 정보로, 블록의 해시를 만듭니다.
  - **구성 요소:** 타임스탬프, 논스, 이전 블록 해시, 머클트리 루트 해시 포함.

## 어려운 용어 설명

- **머클트리(Merkle Tree):** 데이터 검증을 위한 트리 구조. 하위 노드의 해시가 상위 노드에 영향을 미쳐 데이터의 무결성을 확인할 수 있음.
- **블록 헤더(Block Header):** 블록의 요약 정보. 전체 블록의 해시를 생성하는 데 사용됨.
- **해시(Hash):** 데이터를 고정된 크기의 문자열로 변환하는 함수. 머클트리와 블록 헤더에서 사용됨.
- **논스(Nonce):** 블록 헤더에 포함된 임의의 숫자. 작업증명에서 사용됨.
- **단순화된 지불 확인(SPV):** 가벼운 노드가 블록헤더와 필요한 정보만 다운로드 받아 효율적으로 작동하도록 하는 프로토콜.
- **가벼운 노드(Light Node):** 전체 블록체인을 저장하지 않고, 필요한 정보만 다운로드 받아 작동하는 노드.

# 블록체인 기술을 이용한 다른 응용 사례 (Alternative Blockchain Applications)

## 네임코인 (Namecoin)
<img src="https://postfiles.pstatic.net/MjAxODA1MjRfMjUx/MDAxNTI3MTQwMTU1NTMx.xpYvDanJ7p8mY7BWyfKXRzQ0Ek91Y7Ah1arkKs0xmYIg.1a9UPahTvFkkAJmnjiSI_nlrcpgt8yMnM5pwLyhNKqcg.JPEG.aepkoreanet/namecoin.jpg?type=w773"  alt="이미지 설명">
- **설립:** 2010년
- **목적:** 탈중앙화된 명칭 등록 데이터베이스
- **문제 해결:** 탈중앙화된 자율조직 프로토콜을 이용할 때 계정 구분의 어려움을 해결
- **방법:** 선출원주의(First-to-file)를 적용해 먼저 등록한 사람이 계정을 소유

## 컬러드 코인 (Colored Coins)

- **목적:** 비트코인 블록체인 위에서 고유한 디지털 화폐를 발행할 수 있는 프로토콜 제공
- **방법:** 특정 비트코인 UTXO에 색을 부여해 새로운 화폐를 발행

## 메타코인 (Metacoins)
<img src="https://wiki.hash.kr/images/2/23/%EB%A9%94%ED%83%80%EC%BD%94%EC%9D%B8_%EA%B8%80%EC%9E%90.png">
- **아이디어:** 비트코인 거래를 이용해 메타코인 거래 저장, 상태 이동 함수 APPLY'를 사용해 비트코인 시스템 위에서 운영
- **문제 해결:** 무효 메타코인 거래를 예방하기 위한 규칙 추가

## 합의 프로토콜 접근 방법

### 독립적인 네트워크 구축

- **예:** 네임코인
- **장점:** 독립적인 블록체인을 가짐
- **단점:** 실행의 복잡성 및 초기 셋업 비용

### 비트코인 시스템과 연동되는 프로토콜 구축

- **장점:** 비트코인의 채굴과 네트워킹 복잡성을 활용
- **단점:** 비트코인의 단순 지불 검증(SPV) 기능을 상속받지 못함

# 스크립팅 (Scripting)

## 비트코인 프로토콜

- **기능:** 낮은 수준의 "스마트 계약" 개념을 가능하게 함
- **사용 사례:** 회사 계정, 보안 저축 계정, 상업 공탁 상황 등에 유용

## 한계

- **튜링불완전성:** 모든 프로그래밍을 지원하지 않음 (while, for 등의 순환 명령어 없음)
- **가치 무지:** UTXO 스크립트만으로는 인출 액수를 세밀하게 통제 불가
- **상태 표현 제한:** UTXO는 사용 여부만 표현 가능
- **블록체인 무지:** 블록체인 자료를 해독하지 못함 (논스, 타임스탬프, 이전 블록 해시 등)

## 어려운 용어 설명

- **라이트 클라이언트 (Light Client):** 블록체인 네트워크에서 전체 블록체인 데이터를 다운로드하지 않고도 트랜잭션 확인과 관련 정보에 접근할 수 있는 클라이언트입니다. 블록체인의 일부 데이터만으로 작동하여 저장 공간과 대역폭을 절약할 수 있습니다.

- **분권화된 자율 조직 (Decentralized Autonomous Organization, DAO):** 코드와 합의 규칙에 따라 자율적으로 운영되는 조직입니다. 중앙 집권적인 관리자 없이 블록체인 기술을 활용하여 회원들의 결정이나 자산 관리를 스마트 계약을 통해 처리합니다.

- **UTXO (Unspent Transaction Output):** 비트코인 네트워크에서 사용되는 거래 출력의 형태입니다. 특정 금액의 비트코인이 아직 사용되지 않은 상태로 남아 있는 출력을 의미하며, 새로운 거래에 사용될 수 있습니다.

- **스크립팅 (Scripting):** 비트코인 트랜잭션에서 실행할 수 있는 스크립트 언어입니다. 스크립트는 트랜잭션을 검증하고 추가적인 조건을 부여하는데 사용됩니다. 예를 들어, 특정 조건이 충족될 때만 트랜잭션이 실행되도록 설정할 수 있습니다.


## 발전된 어플리케이션을 만드는 3가지 접근법

### 독립적인 블록체인 구축

- **장점:** 무한히 자유로운 프로그램 작성 가능
- **단점:** 개발 기간, 초기 셋업, 보안 비용

### 비트코인 내재 스크립트 이용

- **장점:** 실행 간단, 표준화
- **단점:** 이용 범위 제한

### 비트코인 상의 메타-규약 구축

- **장점:** 간단한 구현
- **단점:** 확장성 결함

## 이더리움의 대안 프레임워크

- 이더리움은 개발하기 쉽고 강력한 라이트 클라이언트 기능을 가지며 경제적인 개발 환경과 블록체인 보안을 공유하는 어플리케이션을 만들 수 있는 대안 프레임워크를 제공합니다. 
